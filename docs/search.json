[
  {
    "objectID": "resources.html",
    "href": "resources.html",
    "title": "resources",
    "section": "",
    "text": "this is an h1 element\n\n\nthis is an h1 element with the title class\n\n\nthis paragraph is orange\n\n\nthis text is centered\n\n\nthis text is both centered and orange\n\n\nHere’s where I’m describing something fun that I enjoy doing.\nHere;s a full line\n\nHere’s one line\nHere’s another line\n\n\nThis is centered"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Here’s what I do for work!"
  },
  {
    "objectID": "about.html#what-i-do-for-work",
    "href": "about.html#what-i-do-for-work",
    "title": "About",
    "section": "",
    "text": "Here’s what I do for work!"
  },
  {
    "objectID": "about.html#what-i-do-for-fun",
    "href": "about.html#what-i-do-for-fun",
    "title": "About",
    "section": "What I do for fun",
    "text": "What I do for fun\nHere’s what I do for fun!"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Leela Dixit",
    "section": "",
    "text": "Leela is a motivated data scientist eager to achieve ethical, equitable, and just environmental solutions in a changing world."
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Blog Posts",
    "section": "",
    "text": "The Eaton and Palisades Fire\n\n\n\n\n\n\n\n\nLeela Dixit\n\n\n\n\n\n\n\n\n\n\n\n\nfire\n\n\n\n\n\n\n\n\nLeela Dixit\n\n\n\n\n\n\n\n\n\n\n\n\nDetermining optimal suitability in Exclusive Economic Zones (EEZ) on the West Coast of USA\n\n\n\n\n\n\n\n\nDec 5, 2025\n\n\nLeela Dixit\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2025-12-1-fire-analysis/220_blog_post(1).html",
    "href": "posts/2025-12-1-fire-analysis/220_blog_post(1).html",
    "title": "Exploring the extent and impact of the Eaton and Palisades fire in Los Angeles County",
    "section": "",
    "text": "The Eaton and Palisades fire in Los Angeles County were devastating for local communities, damaging thousands of homes and many acres of ecological habitat, leaving deep scars in both the communities they affected and the land itself. In this study, we will visualize the extents and impacts of the Eaton and Palisades fires using false color imagery through landsat data and known perimeters of both fires, and focus in on an environmental justice metric to assess the community’s potential response to wildfire.\nTo learn more about false color images and landsats, see the following resources:\nWhy is that Forest Red and that Cloud Blue? How to Interpret a False-Color Satellite Image\nWhat are the band designations for the Landsat satellites?\nCommon Landsat Band Combinations\n\n\nIn this study, we will highlight the following skills:\n\nExamining rioxarrays and NetCDF files to pull, transform, and manipulate spatial data.\nMap true and false color images from NetCDF files.\nMap census tracts that intersect the Eaton and Palisades fire to explore potential injustices.\n\n\n\n\nLandsat data are from Microsoft Planetary Computer data catalogue. These data contain bands for red, green, blue, near-infrared and shortwave infrared, from the Landsat Collection 2 Level-2 collected by Landsat-8. Our data is cropped to areas surrounding the extent of the fires.\nPerimeter data are from Los Angeles County Dissolved Fire Perimeter Data. These data originate from data containing daily snapshots of perimeters, but are dissolved into one layer for these data.\nFire perimeter data: https://geohub.lacity.org/maps/ad51845ea5fb4eb483bc2a7c38b2370c/about Landsat data: https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2\nEJI data are from the Environmental Justice Index (EJI), a national tool to measure environmental burden. The EJI ranks tracts for 36 different factors developed from data from many different sources.\n\n# Load libraries\nimport pandas as pd\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport os\nimport xarray as xr\nimport contextily as ctx\n\n\n# Load data\n\n# Read in NetCDF file\nlandsat = xr.open_dataset('data/landsat8-2025-02-23-palisades-eaton.nc')\n\n# Read in perimeter data\neaton_perimeter = gpd.read_file('data/Eaton_Perimeter/Eaton_Perimeter_20250121.shp')\npalisades_perimeter = gpd.read_file('data/Palisades_Perimeter/Palisades_Perimeter_20250121.shp')\n\n# Import CA EJI gdb\nfp = os.path.join(\"data\", \"EJI_2024_California\", \"EJI_2024_California.gdb\")\neji_california = gpd.read_file(fp)"
  },
  {
    "objectID": "posts/2025-12-1-fire-analysis/220_blog_post(1).html#background",
    "href": "posts/2025-12-1-fire-analysis/220_blog_post(1).html#background",
    "title": "The Eaton and Palisades Fire",
    "section": "Background",
    "text": "Background\nThe Eaton and Palisades fire in Los Angeles County were devastating for local communities, damaging thousands of homes and many acres of ecological habitat, leaving deep scars in both the communities they affected and the land itself. In this study, we will visualize the extents and impacts of the Eaton and Palisades fires using false color imagery through landsat data and known perimeters of both fires, and focus in on an environmental justice metric to assess the community’s potential response to wildfire.\nTo learn more about false color images and landsats, see the following resources:\nWhy is that Forest Red and that Cloud Blue? How to Interpret a False-Color Satellite Image\nWhat are the band designations for the Landsat satellites?\nCommon Landsat Band Combinations\n\nAnalysis Highlights\nIn this study, we will highlight the following skills:\n\nExamining rioxarrays and NetCDF files to pull, transform, and manipulate spatial data.\nMap true and false color images from NetCDF files.\nMap census tracts that intersect the Eaton and Palisades fire to explore potential injustices.\n\n\n\nDatasets:\nLandsat data are from Microsoft Planetary Computer data catalogue. These data contain bands for red, green, blue, near-infrared and shortwave infrared, from the Landsat Collection 2 Level-2 collected by Landsat-8. Our data is cropped to areas surrounding the extent of the fires.\nPerimeter data are from Los Angeles County Dissolved Fire Perimeter Data. These data originate from data containing daily snapshots of perimeters, but are dissolved into one layer for these data.\nFire perimeter data: https://geohub.lacity.org/maps/ad51845ea5fb4eb483bc2a7c38b2370c/about Landsat data: https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2\nEJI data are from the Environmental Justice Index (EJI), a national tool to measure environmental burden. The EJI ranks tracts for 36 different factors developed from data from many different sources.\n\n# Load libraries\nimport pandas as pd\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport os\nimport xarray as xr\nimport contextily as ctx\n\n\n# Load data\n\n# Read in NetCDF file\nlandsat = xr.open_dataset('data/landsat8-2025-02-23-palisades-eaton.nc')\n\n# Read in perimeter data\neaton_perimeter = gpd.read_file('data/Eaton_Perimeter/Eaton_Perimeter_20250121.shp')\npalisades_perimeter = gpd.read_file('data/Palisades_Perimeter/Palisades_Perimeter_20250121.shp')\n\n# Import CA EJI gdb\nfp = os.path.join(\"data\", \"EJI_2024_California\", \"EJI_2024_California.gdb\")\neji_california = gpd.read_file(fp)"
  },
  {
    "objectID": "posts/2025-12-05-eez-suitability/index.html",
    "href": "posts/2025-12-05-eez-suitability/index.html",
    "title": "Determining optimal suitability in Exclusive Economic Zones (EEZ) on the West Coast of USA",
    "section": "",
    "text": "(https://creativecommons.org/licenses/by/3.0/deed.en)\nMarine aquaculture has grown substantially globally and has both positive and negative economic, ecological, and sustainability potential. Gentry et al estimated global seafood demand could be met using less than 0.015% of global ocean area. The United States is among the top countries with large marine aquaculture potential, likely due to long coastlines and exclusive economic zones (sea area 200 nm from a coastal baseline in which a sovereign state has exclusive rights). In this study, we will develop a workflow to determine which exclusive economic zones (EEZ) are best suited for species of oysters and red abalone, based on suitable sea surface temperature and depth.\nLoad packages\n\nlibrary(tidyverse)\nlibrary(here)\nlibrary(tmap)\nlibrary(stars)\nlibrary(raster)\nlibrary(terra)\n\nRead in data\n\n# exclusive economic zones for west coast\neez &lt;- st_read(here(\"posts\", \"2025-12-05-eez-suitability\", \"data\", \"wc_regions_clean.shp\"))\n\n# bathymetry\ndepth &lt;- rast(here(\"posts\", \"2025-12-05-eez-suitability\", \"data\", \"depth.tif\"))\n\n# sea surface temperature\n# read in as a stack\nfilelist &lt;- list.files(here(\"posts\", \"2025-12-05-eez-suitability\", \"data\", \"average_annual_sst\"), full.names = TRUE)\nsst &lt;- rast(filelist)\n\n\n\nCheck the CRS of all data and transform if needed.\n\n# check crs for all data files\ncrs(sst, describe = TRUE)$code \n\n[1] NA\n\nst_crs(eez)$epsg\n\n[1] 4326\n\ncrs(depth, describe = TRUE)$code\n\n[1] \"4326\"\n\n# transform sea surface temp to 4326\ncrs(sst) &lt;- 'epsg:4326'\n# check again\nif (crs(sst, describe = TRUE)$code == st_crs(eez)$epsg) {\n  print(\"CRS match!\")\n} else {\n  stop(\"CRS do not match, must transform\")\n}\n\n[1] \"CRS match!\"\n\n\n\n\n\nClean sea surface temperature and depth data, including checking and transforming CRS, resolution, and extent.\n\n# look at layer names\nnames(sst)\n\n[1] \"average_annual_sst_2008\" \"average_annual_sst_2009\"\n[3] \"average_annual_sst_2010\" \"average_annual_sst_2011\"\n[5] \"average_annual_sst_2012\"\n\n# find the mean SST from all years\n# sst_avg &lt;- app(sst, mean, na.rm = TRUE)\nsst_avg &lt;- mean(sst)\nnames(sst_avg) # just one layer!\n\n[1] \"mean\"\n\n# convert sst from kelvin to celsius\nsst_avg &lt;- sst_avg - 273.15\n\n# crop depth raster to the extent of sst \ndepth_crop &lt;- crop(depth, floor(ext(sst_avg)))\n# check extents match \next(depth_crop) == ext(sst_avg) # they are very close, but extents don't match\n\n[1] FALSE\n\n# resample depth data to match resolution to sst data\n# use nearest neighbor approach\ndepth_resample &lt;- resample(depth_crop, sst_avg, method = \"near\")\n\n# check for match in resolution, extent, and crs\nif (res(sst_avg)[1] == res(depth_resample)[1] &\n    res(sst_avg)[2] == res(depth_resample)[2] &\n    ext(sst_avg) == ext(depth_resample) &\n    crs(sst_avg) == crs(depth_resample)){\n  print(\"Resolution, extent, and CRS match!\")\n} else {\n  stop(\"Resolution, extent, and/or CRS do not match.\")\n}\n\n[1] \"Resolution, extent, and CRS match!\"\n\n# combine depth and sst to make sure they match\ncheck_match &lt;- c(depth_resample, sst_avg)\n\n\n\n\nFirst we will develop a workflow to find suitable locations for many species of oysters.\nIdeal Sea Surface Temperature : 11-30 Celsius\nIdeal Depth : 0-70 meters\n\n# min max sst and depth are replaceable for a function\n# reclassify for suitable conditions\nrcl_sst &lt;- matrix(c(-Inf, 11, 0,\n                    11, 30, 1, \n                    30, Inf, 0),\n                    ncol = 3, byrow = TRUE)\n\nrcl_depth &lt;- matrix(c(-Inf, -70, 0,\n                      -70, 0, 1,\n                      0, Inf, 0),\n                      ncol = 3, byrow = TRUE)\n\n# reclassify per layer for each matrix\nsst_reclass &lt;- classify(sst_avg, rcl_sst)\ndepth_reclass &lt;- classify(depth_resample, rcl_depth)\n# check min and max are 0 and 1\nsummary(sst_reclass)\n\n      mean      \n Min.   :0.000  \n 1st Qu.:1.000  \n Median :1.000  \n Mean   :0.929  \n 3rd Qu.:1.000  \n Max.   :1.000  \n NA's   :42349  \n\nsummary(depth_reclass)\n\n     depth        \n Min.   :0.00000  \n 1st Qu.:0.00000  \n Median :0.00000  \n Mean   :0.01353  \n 3rd Qu.:0.00000  \n Max.   :1.00000  \n\n# depth x sst will return only cells with both 1s as 1\nmultiplication_func &lt;- function(x, y) {\n  x * y\n}\nsuitable_cells &lt;- lapp(c(sst_reclass, depth_reclass), fun = multiplication_func)\n# check min and max are 0 and 1\nsummary(suitable_cells)\n\n      lyr1      \n Min.   :0.000  \n 1st Qu.:0.000  \n Median :0.000  \n Mean   :0.008  \n 3rd Qu.:0.000  \n Max.   :1.000  \n NA's   :42349  \n\n# create mask with EEZ so nothing too deep in the ocean and no on-land is returned\nsuitable_cells_west &lt;- mask(suitable_cells, eez)\nsummary(suitable_cells_west)\n\n      lyr1      \n Min.   :0.000  \n 1st Qu.:0.000  \n Median :0.000  \n Mean   :0.014  \n 3rd Qu.:0.000  \n Max.   :1.000  \n NA's   :74795  \n\n# quick plot to check mask worked\nplot(suitable_cells)\n\n\n\n\n\n\n\nplot(suitable_cells_west)\n\n\n\n\n\n\n\n# how many cells are suitable in each zone\nsuitable_cells_west[suitable_cells_west == 0] &lt;- NA\neez_rast &lt;- rasterize(eez, y = suitable_cells_west, field = \"rgn_id\")\nsuitable_cells_west_zone &lt;- zonal(suitable_cells_west, eez_rast, fun = \"notNA\")\nknitr::kable(suitable_cells_west_zone, format = \"html\", col.names = c(\"Region ID\", \"Suitable Cell Count\"), table.attr = 'data-quarto-disable-processing=\"true\"') %&gt;% \n  kableExtra::kable_styling(bootstrap_options = c(\"basic\", \"hover\"), full_width = FALSE)\n\n\n \n  \n    Region ID \n    Suitable Cell Count \n  \n \n\n  \n    1 \n    71 \n  \n  \n    2 \n    11 \n  \n  \n    3 \n    238 \n  \n  \n    4 \n    211 \n  \n  \n    5 \n    162 \n  \n\n\n\n# find cell size of suitable cell areas\nsuitable_cell_area &lt;- cellSize(suitable_cells_west, unit=\"km\")\nsummary(suitable_cell_area)\n\n      area      \n Min.   :13.85  \n 1st Qu.:15.20  \n Median :16.45  \n Mean   :16.37  \n 3rd Qu.:17.58  \n Max.   :18.56  \n\n# multiply against NAs to remove extra values\nsuitable_cell_area_values &lt;- suitable_cell_area * suitable_cells_west\n# sum across zones to get total suitable area\ntotal_area &lt;- zonal(suitable_cell_area_values, eez_rast, fun=\"sum\", na.rm = TRUE)\nknitr::kable(total_area, format = \"html\", \n             col.names = c(\"Region ID\", \"Total Suitable Area (km)\"), table.attr = 'data-quarto-disable-processing=\"true\"') %&gt;% \n  kableExtra::kable_styling(bootstrap_options = c(\"basic\", \"hover\"), \n                            full_width = FALSE)\n\n\n \n  \n    Region ID \n    Total Suitable Area (km) \n  \n \n\n  \n    1 \n    1074.2720 \n  \n  \n    2 \n    178.0268 \n  \n  \n    3 \n    4069.8766 \n  \n  \n    4 \n    3757.2849 \n  \n  \n    5 \n    2378.3137 \n  \n\n\n\n# join to spatial data to map\ntotal_area &lt;- left_join(total_area, eez, by = \"rgn_id\")\ntotal_area &lt;- st_as_sf(total_area)\n\n# map total area in each suitable zone\ntm_shape(total_area) +\n  tm_basemap(\"CartoDB.PositronNoLabels\") +\n  tm_polygons(fill = \"area\",\n              title = \"Suitable Area (km)\",\n              palette = \"-viridis\") +\n  tm_scalebar(breaks = c(0, 100, 200, 300),\n              position = c(\"left\", \"bottom\")) +\n  tm_compass(position = c(\"left\", \"bottom\")) +\n  tm_title(\"West Coast Suitable Area : Oysters\")"
  },
  {
    "objectID": "posts/2025-12-05-eez-suitability/index.html#step-1-prepare-the-data",
    "href": "posts/2025-12-05-eez-suitability/index.html#step-1-prepare-the-data",
    "title": "Determining optimal suitability in Exclusive Economic Zones (EEZ) on the West Coast of USA",
    "section": "",
    "text": "Check the CRS of all data and transform if needed.\n\n# check crs for all data files\ncrs(sst, describe = TRUE)$code \n\n[1] NA\n\nst_crs(eez)$epsg\n\n[1] 4326\n\ncrs(depth, describe = TRUE)$code\n\n[1] \"4326\"\n\n# transform sea surface temp to 4326\ncrs(sst) &lt;- 'epsg:4326'\n# check again\nif (crs(sst, describe = TRUE)$code == st_crs(eez)$epsg) {\n  print(\"CRS match!\")\n} else {\n  stop(\"CRS do not match, must transform\")\n}\n\n[1] \"CRS match!\""
  },
  {
    "objectID": "posts/2025-12-05-eez-suitability/index.html#step-2-process-data",
    "href": "posts/2025-12-05-eez-suitability/index.html#step-2-process-data",
    "title": "Determining optimal suitability in Exclusive Economic Zones (EEZ) on the West Coast of USA",
    "section": "",
    "text": "Clean sea surface temperature and depth data, including checking and transforming CRS, resolution, and extent.\n\n# look at layer names\nnames(sst)\n\n[1] \"average_annual_sst_2008\" \"average_annual_sst_2009\"\n[3] \"average_annual_sst_2010\" \"average_annual_sst_2011\"\n[5] \"average_annual_sst_2012\"\n\n# find the mean SST from all years\n# sst_avg &lt;- app(sst, mean, na.rm = TRUE)\nsst_avg &lt;- mean(sst)\nnames(sst_avg) # just one layer!\n\n[1] \"mean\"\n\n# convert sst from kelvin to celsius\nsst_avg &lt;- sst_avg - 273.15\n\n# crop depth raster to the extent of sst \ndepth_crop &lt;- crop(depth, floor(ext(sst_avg)))\n# check extents match \next(depth_crop) == ext(sst_avg) # they are very close, but extents don't match\n\n[1] FALSE\n\n# resample depth data to match resolution to sst data\n# use nearest neighbor approach\ndepth_resample &lt;- resample(depth_crop, sst_avg, method = \"near\")\n\n# check for match in resolution, extent, and crs\nif (res(sst_avg)[1] == res(depth_resample)[1] &\n    res(sst_avg)[2] == res(depth_resample)[2] &\n    ext(sst_avg) == ext(depth_resample) &\n    crs(sst_avg) == crs(depth_resample)){\n  print(\"Resolution, extent, and CRS match!\")\n} else {\n  stop(\"Resolution, extent, and/or CRS do not match.\")\n}\n\n[1] \"Resolution, extent, and CRS match!\"\n\n# combine depth and sst to make sure they match\ncheck_match &lt;- c(depth_resample, sst_avg)"
  },
  {
    "objectID": "posts/2025-12-05-eez-suitability/index.html#step-3-find-suitable-locations",
    "href": "posts/2025-12-05-eez-suitability/index.html#step-3-find-suitable-locations",
    "title": "Determining optimal suitability in Exclusive Economic Zones (EEZ) on the West Coast of USA",
    "section": "",
    "text": "First we will develop a workflow to find suitable locations for many species of oysters.\nIdeal Sea Surface Temperature : 11-30 Celsius\nIdeal Depth : 0-70 meters\n\n# min max sst and depth are replaceable for a function\n# reclassify for suitable conditions\nrcl_sst &lt;- matrix(c(-Inf, 11, 0,\n                    11, 30, 1, \n                    30, Inf, 0),\n                    ncol = 3, byrow = TRUE)\n\nrcl_depth &lt;- matrix(c(-Inf, -70, 0,\n                      -70, 0, 1,\n                      0, Inf, 0),\n                      ncol = 3, byrow = TRUE)\n\n# reclassify per layer for each matrix\nsst_reclass &lt;- classify(sst_avg, rcl_sst)\ndepth_reclass &lt;- classify(depth_resample, rcl_depth)\n# check min and max are 0 and 1\nsummary(sst_reclass)\n\n      mean      \n Min.   :0.000  \n 1st Qu.:1.000  \n Median :1.000  \n Mean   :0.929  \n 3rd Qu.:1.000  \n Max.   :1.000  \n NA's   :42349  \n\nsummary(depth_reclass)\n\n     depth        \n Min.   :0.00000  \n 1st Qu.:0.00000  \n Median :0.00000  \n Mean   :0.01353  \n 3rd Qu.:0.00000  \n Max.   :1.00000  \n\n# depth x sst will return only cells with both 1s as 1\nmultiplication_func &lt;- function(x, y) {\n  x * y\n}\nsuitable_cells &lt;- lapp(c(sst_reclass, depth_reclass), fun = multiplication_func)\n# check min and max are 0 and 1\nsummary(suitable_cells)\n\n      lyr1      \n Min.   :0.000  \n 1st Qu.:0.000  \n Median :0.000  \n Mean   :0.008  \n 3rd Qu.:0.000  \n Max.   :1.000  \n NA's   :42349  \n\n# create mask with EEZ so nothing too deep in the ocean and no on-land is returned\nsuitable_cells_west &lt;- mask(suitable_cells, eez)\nsummary(suitable_cells_west)\n\n      lyr1      \n Min.   :0.000  \n 1st Qu.:0.000  \n Median :0.000  \n Mean   :0.014  \n 3rd Qu.:0.000  \n Max.   :1.000  \n NA's   :74795  \n\n# quick plot to check mask worked\nplot(suitable_cells)\n\n\n\n\n\n\n\nplot(suitable_cells_west)\n\n\n\n\n\n\n\n# how many cells are suitable in each zone\nsuitable_cells_west[suitable_cells_west == 0] &lt;- NA\neez_rast &lt;- rasterize(eez, y = suitable_cells_west, field = \"rgn_id\")\nsuitable_cells_west_zone &lt;- zonal(suitable_cells_west, eez_rast, fun = \"notNA\")\nknitr::kable(suitable_cells_west_zone, format = \"html\", col.names = c(\"Region ID\", \"Suitable Cell Count\"), table.attr = 'data-quarto-disable-processing=\"true\"') %&gt;% \n  kableExtra::kable_styling(bootstrap_options = c(\"basic\", \"hover\"), full_width = FALSE)\n\n\n \n  \n    Region ID \n    Suitable Cell Count \n  \n \n\n  \n    1 \n    71 \n  \n  \n    2 \n    11 \n  \n  \n    3 \n    238 \n  \n  \n    4 \n    211 \n  \n  \n    5 \n    162 \n  \n\n\n\n# find cell size of suitable cell areas\nsuitable_cell_area &lt;- cellSize(suitable_cells_west, unit=\"km\")\nsummary(suitable_cell_area)\n\n      area      \n Min.   :13.85  \n 1st Qu.:15.20  \n Median :16.45  \n Mean   :16.37  \n 3rd Qu.:17.58  \n Max.   :18.56  \n\n# multiply against NAs to remove extra values\nsuitable_cell_area_values &lt;- suitable_cell_area * suitable_cells_west\n# sum across zones to get total suitable area\ntotal_area &lt;- zonal(suitable_cell_area_values, eez_rast, fun=\"sum\", na.rm = TRUE)\nknitr::kable(total_area, format = \"html\", \n             col.names = c(\"Region ID\", \"Total Suitable Area (km)\"), table.attr = 'data-quarto-disable-processing=\"true\"') %&gt;% \n  kableExtra::kable_styling(bootstrap_options = c(\"basic\", \"hover\"), \n                            full_width = FALSE)\n\n\n \n  \n    Region ID \n    Total Suitable Area (km) \n  \n \n\n  \n    1 \n    1074.2720 \n  \n  \n    2 \n    178.0268 \n  \n  \n    3 \n    4069.8766 \n  \n  \n    4 \n    3757.2849 \n  \n  \n    5 \n    2378.3137 \n  \n\n\n\n# join to spatial data to map\ntotal_area &lt;- left_join(total_area, eez, by = \"rgn_id\")\ntotal_area &lt;- st_as_sf(total_area)\n\n# map total area in each suitable zone\ntm_shape(total_area) +\n  tm_basemap(\"CartoDB.PositronNoLabels\") +\n  tm_polygons(fill = \"area\",\n              title = \"Suitable Area (km)\",\n              palette = \"-viridis\") +\n  tm_scalebar(breaks = c(0, 100, 200, 300),\n              position = c(\"left\", \"bottom\")) +\n  tm_compass(position = c(\"left\", \"bottom\")) +\n  tm_title(\"West Coast Suitable Area : Oysters\")"
  }
]